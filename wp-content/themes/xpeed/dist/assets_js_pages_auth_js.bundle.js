"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkxpeed"] = self["webpackChunkxpeed"] || []).push([["assets_js_pages_auth_js"],{

/***/ "./assets/js/apiHandler.js":
/*!*********************************!*\
  !*** ./assets/js/apiHandler.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _loading_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loading.js */ \"./assets/js/loading.js\");\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar APIHandler = /*#__PURE__*/function () {\n  function APIHandler() {\n    _classCallCheck(this, APIHandler);\n  }\n  return _createClass(APIHandler, null, [{\n    key: \"post\",\n    value: function post(url, data) {\n      var isLoading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      _loading_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show(); // Hiển thị loading nếu isLoading là true\n      console.log('isLoading', isLoading);\n      return $.ajax({\n        url: this.buildUrl(url),\n        method: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify(data)\n      }).always(function () {\n        if (isLoading) _loading_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hide(); // Ẩn loading sau khi hoàn thành call API\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(url, data) {\n      var isLoading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      if (isLoading) _loading_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show(); // Hiển thị loading nếu isLoading là true\n      return $.ajax({\n        url: this.buildUrl(url),\n        method: 'GET',\n        contentType: 'application/json',\n        data: JSON.stringify(data)\n      }).always(function () {\n        if (isLoading) _loading_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hide(); // Ẩn loading sau khi hoàn thành call API\n      });\n    }\n  }, {\n    key: \"buildUrl\",\n    value: function buildUrl(url) {\n      url = baseUrl + url; // Thay thế baseUrl bằng URL cơ bản của bạn\n      console.log('url', url);\n      return url;\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (APIHandler);\n\n//# sourceURL=webpack://xpeed/./assets/js/apiHandler.js?");

/***/ }),

/***/ "./assets/js/loading.js":
/*!******************************!*\
  !*** ./assets/js/loading.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar userLoading = /*#__PURE__*/function () {\n  function userLoading() {\n    _classCallCheck(this, userLoading);\n  }\n  return _createClass(userLoading, null, [{\n    key: \"show\",\n    value: function show() {\n      var loader = $('.wp-loading-overlay');\n      if (loader.length) {\n        loader.css('display', 'flex');\n      }\n      return true;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(url, data) {\n      var loader = $('.wp-loading-overlay');\n      if (loader.length) {\n        loader.css('display', 'none');\n      }\n      return false;\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userLoading);\n\n//# sourceURL=webpack://xpeed/./assets/js/loading.js?");

/***/ }),

/***/ "./assets/js/pages/auth.js":
/*!*********************************!*\
  !*** ./assets/js/pages/auth.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _apiHandler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../apiHandler.js */ \"./assets/js/apiHandler.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../validation.js */ \"./assets/js/validation.js\");\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n// apiHandler.js\n\n\n\n// main.js\n$(document).ready(function () {\n  var redirectAfterLogin = decodeURIComponent(getCookie('redirect_after_login'));\n  var redirectUrl = redirectAfterLogin && redirectAfterLogin.trim() !== '' ? redirectAfterLogin : baseUrl;\n  function getCookie(name) {\n    var value = \"; \".concat(document.cookie);\n    var parts = value.split(\"; \".concat(name, \"=\"));\n    if (parts.length === 2) return parts.pop().split(';').shift();\n    return null;\n  }\n  var clearErrors = function clearErrors() {\n    $('.error-message').html(''); // Xóa hết các phần tử có class \"error-message\"\n  };\n  var handleErrors = function handleErrors(respons) {\n    var _respons$data;\n    if (respons !== null && respons !== void 0 && respons.message) {\n      alert(respons === null || respons === void 0 ? void 0 : respons.message);\n    }\n    var errors = (_respons$data = respons === null || respons === void 0 ? void 0 : respons.data) !== null && _respons$data !== void 0 ? _respons$data : {};\n    Object.entries(errors).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        f = _ref2[0],\n        e = _ref2[1];\n      $(\"#auth-wrapper-\".concat(f, \"__message\")).html(\"<p class=\\\"error-message\\\">\".concat(e, \"</p>\"));\n    });\n  };\n  var submitForm = function submitForm(form, url, rules, successRedirect) {\n    form.on('submit', function (event) {\n      event.preventDefault();\n      clearErrors(); // Xóa thông báo lỗi trước khi validate và xử lý form\n      var data = Object.fromEntries(new FormData(this).entries());\n      var errors = _validation_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].validate(data, rules);\n      if (Object.keys(errors).length) return handleErrors(errors);\n      _apiHandler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/wp-json/custom-api/v1/\".concat(url), data).done(function () {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Yêu cầu của bạn đã thực hiện thành công\",\n          showConfirmButton: false,\n          timer: 1500\n        }).then(function () {\n          window.location.href = successRedirect;\n        });\n      }).fail(function (xhr) {\n        return handleErrors(xhr.responseJSON || {});\n      });\n    });\n  };\n  submitForm($('#auth-wrapper-login__form'), 'login', {\n    username: 'required',\n    password: ''\n  }, redirectUrl);\n  submitForm($('#auth-wrapper-register__form'), 'register', {\n    username: 'required',\n    email: 'required|email',\n    password: 'required|min:10',\n    address: ''\n  }, baseUrl + \"/login\");\n  $('#profile-logout__action').on('click', function () {\n    return _apiHandler_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/wp-json/custom-api/v1/logout\", {}).done(function () {\n      return window.location.href = baseUrl;\n    });\n  });\n});\n\n//# sourceURL=webpack://xpeed/./assets/js/pages/auth.js?");

/***/ }),

/***/ "./assets/js/validation.js":
/*!*********************************!*\
  !*** ./assets/js/validation.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// validation.js\nvar Validator = /*#__PURE__*/function () {\n  function Validator() {\n    _classCallCheck(this, Validator);\n  }\n  return _createClass(Validator, null, [{\n    key: \"validate\",\n    value: function validate(fields, rules) {\n      var errors = {};\n      for (var field in rules) {\n        var value = fields[field] || '';\n        var _ref = rules[field].match(/\\d+/g) || [],\n          _ref2 = _slicedToArray(_ref, 2),\n          min = _ref2[0],\n          max = _ref2[1];\n        if (rules[field].includes('required') && !value.trim()) errors[field] = \"\".concat(field, \" is required\");\n        if (rules[field].includes('min') && value.length < min) errors[field] = \"\".concat(field, \" must be at least \").concat(min, \" characters\");\n        if (rules[field].includes('max') && value.length > max) errors[field] = \"\".concat(field, \" must not exceed \").concat(max, \" characters\");\n        if (rules[field].includes('email') && !Validator.isValidEmail(value)) errors[field] = \"\".concat(field, \" is not a valid email\");\n        if (rules[field].includes('date') && isNaN(Date.parse(value))) errors[field] = \"\".concat(field, \" is not a valid date\");\n      }\n      return errors;\n    }\n  }, {\n    key: \"isValidEmail\",\n    value: function isValidEmail(email) {\n      return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n    }\n  }]);\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Validator);\n\n//# sourceURL=webpack://xpeed/./assets/js/validation.js?");

/***/ })

}]);